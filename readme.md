- æˆ‘å·²ç»ç»™tinycomputeræäº†issueï¼Œå¦‚æœä»–ä»¬èƒ½å°†micé‡å®šå‘åŠŸèƒ½æ•´åˆè¿›å»ï¼Œå°±ä¸ç”¨å•ç‹¬ç¼–è¯‘scrcpyäº†ï¼Œè¯·æ”¯æŒhttps://github.com/Cateners/tiny_computer/issues/462


è¿™æ˜¯ **CapsWriter-Offline** çš„é€‚é…åˆ†æ”¯ï¼Œä¸“é—¨é’ˆå¯¹ **å®‰å“è®¾å¤‡ä¸Šçš„ Linux å­ç³»ç»Ÿ**ä¼˜åŒ–ï¼Œè§£å†³åŸåˆ†æ”¯åœ¨å­ç³»ç»Ÿä¸­æ— æ³•ä½¿ç”¨çš„å…¼å®¹æ€§é—®é¢˜ï¼Œä¿ç•™æ‰€æœ‰ç¦»çº¿è¯­éŸ³è¾“å…¥æ ¸å¿ƒåŠŸèƒ½ã€‚
- ã€è¿™æ ·æ‰€æœ‰å®‰å“å¹³æ¿éƒ½èƒ½æ‹¥æœ‰MacBook air m1ä¸€æ ·çš„ç»­èˆªäº†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªè½¯ä»¶åœ¨å®‰å“Linuxé‡Œé¢å†™å°è¯´ç¦»çº¿è¯­éŸ³ç”Ÿæˆï¼Œæ¥è‡ªäºä¸€ä¸ªä¹°ä¸èµ·MacBook airåªèƒ½ç”¨å®‰å“å¹³æ¿çš„æ‰‘è¡—ä½œè€…ï¼Œå°è¯•åœ¨å®‰å“ä¸Šç§»æ¤è¯¥è½¯ä»¶è¿›è¡Œçš„åŠªåŠ›ã€‘
- ã€æ„Ÿè°¢è±†åŒ…è¾“å…¥æ³•ï¼Œä»¥åŠè±†åŒ…ï¼Œä»¥åŠè±†åŒ…è¾“å…¥æ³•å¼€å‘ç»„ç”°å¹³å·å¤§ä½¬çš„å¸®åŠ©å’Œé¼“åŠ±ï¼Œå¦‚æœä½ æœ‰åœ¨çº¿è¯­éŸ³è¯†åˆ«çš„éœ€æ±‚ç”¨äºå†™å°è¯´ï¼Œè¯·ä½¿ç”¨è±†åŒ…è¾“å…¥æ³•ã€‘
- ã€ä¹‹åä¼šå°è¯•ç§»æ¤å…¶ä»–å‡†ç¡®ç‡æ›´é«˜çš„æ¨¡å‹ï¼Œä¾‹å¦‚GLM-ASR-Nanoï¼Œå¬è¯´æ¯”å­—èŠ‚è·³åŠ¨çš„Seed-ASRçš„å¾—åˆ†è¿˜è¦é«˜ã€‘

## ğŸ”§ ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåˆ†æ”¯ï¼Ÿ

åŸåˆ†æ”¯ä¾èµ– `keyboard` åº“å®ç°å¿«æ·é”®ç›‘å¬ï¼Œä½†å®‰å“ Linux å­ç³»ç»Ÿå­˜åœ¨ä»¥ä¸‹é™åˆ¶ï¼Œå¯¼è‡´åŸåˆ†æ”¯æ— æ³•æ­£å¸¸å·¥ä½œï¼š
- **ç»ˆç«¯è®¾å¤‡æƒé™é™åˆ¶**ï¼šå­ç³»ç»Ÿå±è”½äº†çœŸå®ç»ˆç«¯ï¼ˆTTYï¼‰å’Œé”®ç›˜è®¾å¤‡ç›´æ¥è®¿é—®ï¼Œ`keyboard` åº“è°ƒç”¨ `dumpkeys` å·¥å…·ä¼šæŠ¥é”™ï¼Œæ— æ³•ç›‘å¬å¿«æ·é”®ï¼›
- **å…¨å±€å¿«æ·é”®ä¸å…¼å®¹**ï¼š`keyboard` åº“çš„å¿«æ·é”®ç›‘å¬ä¾èµ–ç»ˆç«¯å‰å°è¿›ç¨‹ï¼›
- **éŸ³é¢‘è®¾å¤‡è½¬å‘é€‚é…**ï¼šå­ç³»ç»Ÿéœ€é€šè¿‡ `scrcpy_mic` ç­‰å·¥å…·è½¬å‘å®‰å“éº¦å…‹é£ï¼Œéœ€ç¡®ä¿éŸ³é¢‘æ ¼å¼ä¸æœåŠ¡ç«¯ä¸€è‡´ã€‚

æœ¬åˆ†æ”¯é€šè¿‡æœ€å°åŒ–ä¿®æ”¹ï¼ˆä»…æ›¿æ¢ä¾èµ–åº“ã€é€‚é…å­ç³»ç»Ÿç‰¹æ€§ï¼‰ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒåŒæ—¶å®Œå…¨ä¿ç•™åŸåˆ†æ”¯çš„ç¦»çº¿è¯†åˆ«ã€çƒ­è¯ã€å‰ªè´´æ¿è¿˜åŸç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¨¡æ‹Ÿäº†åŸæœ¬çš„è„šæœ¬è¡Œä¸ºã€‚

## ğŸš€ æ ¸å¿ƒä¿®æ”¹

### 1. å¿«æ·é”®ç›‘å¬ï¼š`keyboard` â†’ `pynput`
- **æ›¿æ¢åŸå› **ï¼š`pynput` æ”¯æŒå…¨å±€å¿«æ·é”®ç›‘å¬ï¼Œä¸ä¾èµ–ç»ˆç«¯è®¾å¤‡ï¼Œåå°è¿è¡Œï¼ˆå¦‚ tmux ä¼šè¯ï¼‰ä¹Ÿèƒ½å“åº”ï¼›
- **åŠŸèƒ½å¯¹é½**ï¼š
  - ä¿ç•™åŸåˆ†æ”¯çš„ã€Œé•¿æŒ‰æ¨¡å¼ã€/ã€Œå•å‡»æ¨¡å¼ã€é…ç½®ï¼›
  - å¿«æ·é”®ä» `config.py` è¯»å–ï¼ˆé»˜è®¤æ”¹ä¸º `f12`ï¼‰ï¼›
  - æ”¯æŒå‰ªè´´æ¿è¿˜åŸã€æŒ‰é”®çŠ¶æ€æ¢å¤ç­‰åŸåŠŸèƒ½ï¼›
- **ä¿®æ”¹æ–‡ä»¶**ï¼š
  - `util/client_shortcut_handler.py`ï¼ˆæ ¸å¿ƒæ›¿æ¢ï¼Œå…¨å±€å¿«æ·é”®å®ç°ï¼‰ï¼›
  - `util/client_type_result.py`ï¼ˆæ›¿æ¢æŒ‰é”®è¾“å…¥é€»è¾‘ï¼Œé€‚é…å­ç³»ç»Ÿï¼‰ã€‚

### 3. æ®‹ç•™ä¾èµ–æ¸…ç†
- ç§»é™¤æ‰€æœ‰ `keyboard` åº“æ®‹ç•™è°ƒç”¨ï¼ˆé¿å… `dumpkeys` æŠ¥é”™å¹²æ‰°äº‹ä»¶å¾ªç¯ï¼‰ï¼›
- æ›´æ–°äº†requirements.txtï¼Œç°åœ¨è¯·ç›´æ¥ç”¨è¯¥æ–‡ä»¶å®Œæˆä¾èµ–å®‰è£…ã€‚
- é€‚é…å­ç³»ç»Ÿå‰ªè´´æ¿å·¥å…·ï¼ˆæ”¯æŒ `Ctrl+V` ç²˜è´´ï¼Œé€šè¿‡å‰ªåˆ‡æ¿å…±äº«å‘é€è‡³å®‰å“å®¿ä¸»æœºï¼‰ã€‚

## ğŸ“¦ å®‰è£…ä¸ä½¿ç”¨

### å‰ææ¡ä»¶
- å®‰å“è®¾å¤‡å·²å¯ç”¨ã€ŒLinux å¼€å‘ç¯å¢ƒã€ï¼ˆå¼€å‘è€…é€‰é¡¹ä¸­å¼€å¯ï¼‰ï¼Œæˆ–å®‰è£…tinycomputerï¼Œæˆ–ä½¿ç”¨termux+tmoeå®‰è£…ï¼Œæˆ–ä½¿ç”¨å…¶ä»–ç±»ä¼¼çš„æ–¹æ³•ï¼›
- å·²é€šè¿‡ `scrcpy_mic` æˆ–å…¶ä»–å·¥å…·å®ç°å®‰å“éº¦å…‹é£è½¬å‘ï¼ˆç¡®ä¿å­ç³»ç»Ÿèƒ½è¯†åˆ«éº¦å…‹é£è®¾å¤‡ï¼‰ã€ç¨æ™šä¸€äº›æˆ‘ä¼šå‡ºä¸€ä¸ªæ•™ç¨‹ï¼Œæˆ–è€…ä½ ä»¬è‡ªå·±æ‘¸ç´¢ä¸€ä¸‹ã€‘ã€‚
- æ³¨æ„scrcpyç¼–è¯‘è„šæœ¬ä¸­ä¹Ÿéœ€è¦ä¿®æ”¹ï¼Œéœ€è¦è·³è¿‡APKçš„ç”Ÿæˆï¼Œæˆ–è€…ç¨åæˆ‘ä¸Šä¼ ä¸€ä¸ªARM64çš„é¢„ç¼–è¯‘ç‰ˆæœ¬ä»¥åŠå·²ç»å®Œæˆä¿®æ”¹çš„éƒ¨åˆ†åˆ°è¿™ä¸ªè½¯ä»¶é‡Œé¢ï¼Œå®˜æ–¹æ²¡æœ‰æä¾›ARM64çš„é¢„ç¼–è¯‘ã€‚

- å¦å¤–å‡ ä¸ªè½¯ä»¶çš„æŒ‡å—å’Œå¯¼èˆªï¼š
- scrcpy ï¼š https://github.com/Genymobile/scrcpy
- tiny_computer ï¼šhttps://github.com/Cateners/tiny_computer/releases
- ä¸‡è±¡æ‹¼éŸ³ï¼šhttps://github.com/amzxyz/rime_wanxiang



# ä¸€ã€ç¯å¢ƒå‡†å¤‡
- å®‰å“è®¾å¤‡ï¼šAndroid 11+ï¼ˆæœ¬æ¡ˆä¾‹ä¸º Android 16ï¼‰
- å®‰å“å†…ç½® Linux å­ç³»ç»Ÿï¼šarm64 æ¶æ„
- æ ¸å¿ƒä¾èµ–ï¼šgitã€gccã€mesonã€ffmpegã€pulseaudioã€openjdk-17-jdkï¼ˆscrcpy ç¼–è¯‘å¿…éœ€ï¼ŒæœåŠ¡ç«¯ä¸º Java ç¼–å†™ï¼‰

# äºŒã€ç¼–è¯‘å®‰è£… scrcpyï¼ˆé€‚é… arm64ï¼Œå« Java ä¾èµ–ï¼‰
scrcpy æœåŠ¡ç«¯åŸºäº Java å¼€å‘ï¼Œç¼–è¯‘æ—¶å¿…é¡»å®‰è£… JDKï¼Œå¦åˆ™ä¼šæŠ¥é”™ â€œæ— æ³•æ„å»º scrcpy-serverâ€ï¼Œå®Œæ•´æ­¥éª¤å¦‚ä¸‹ï¼š
```bash
# 1. å®‰è£…ç¼–è¯‘ä¾èµ–ï¼ˆå«openjdk-17-jdkï¼Œscrcpyç¼–è¯‘å¿…éœ€ï¼‰
sudo apt update && sudo apt install -y \
  git gcc make meson ninja-build \
  libusb-1.0-0-dev ffmpeg \
  libavcodec-dev libavformat-dev libavutil-dev libsdl2-dev \
  openjdk-17-jdk
# å®‰è£… FFmpeg å…¨å¥—å¼€å‘åŒ…ï¼ˆåŒ…å« libavdevice åŠå…¶å¤´æ–‡ä»¶ï¼‰
sudo apt install -y libavdevice-dev libavcodec-dev libavformat-dev libavutil-dev libswscale-dev libsdl2-dev
# 2. å…‹éš†scrcpyæºç ï¼ˆæŒ‡å®š3.3.4ç‰ˆæœ¬ï¼Œé¿å…å…¼å®¹æ€§é—®é¢˜ï¼‰
git clone -b v3.3.4 https://github.com/Genymobile/scrcpy.git
cd scrcpy
# 3. ç¼–è¯‘å¹¶å®‰è£…ï¼ˆarm64æ¶æ„è‡ªåŠ¨é€‚é…ï¼‰
meson setup build --buildtype release
ninja -C build
# ä¼šæœ‰æŠ¥é”™ï¼Œæ¥ä¸‹æ¥æˆ‘æ•™ä½ å¤„ç†ï¼Œå› ä¸ºarm64åœ¨è¯¥ç‰ˆæœ¬çš„targetæ²¡æœ‰ç›¸å…³çš„å®‰å“ç¼–è¯‘sdk
```
- å…³äºscrcpyç¼–è¯‘ï¼Œéœ€è¦åšä»¥ä¸‹ä¿®æ”¹
- å…ˆä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬
```
wget -O server/scrcpy-server-v3.3.4 https://github.com/Genymobile/scrcpy/releases/download/v3.3.4/scrcpy-server-v3.3.4
```
- éšåéœ€è¦ä¿®æ”¹è„šæœ¬
```
rm -rf server/scripts/build-wrapper.sh
nano server/scripts/build-wrapper.sh
```
- ç„¶åè¦†ç›–å¡«å…¥
```
#!/usr/bin/env bash
# Wrapper script to invoke gradle from meson
set -e
# Do not execute gradle when ninja is called as root (it would download the
# whole gradle world in /root/.gradle).
# This is typically useful for calling "sudo ninja install" after a "ninja
# install"
if [[ "$EUID" == 0 ]]
then
    echo "(not invoking gradle, since we are root) - Using precompiled server" >&2
    PROJECT_ROOT="$1"
    OUTPUT="$2"
    cp "$PROJECT_ROOT/scrcpy-server-v3.3.4" "$OUTPUT"
    chmod +x "$OUTPUT"
    exit 0  # rootç”¨æˆ·æˆåŠŸè¿”å›
fi
PROJECT_ROOT="$1"
OUTPUT="$2"
BUILDTYPE="$3"
# æ³¨é‡Šæ‰Gradleç›¸å…³ä»£ç 
# GRADLE=${GRADLE:-$PROJECT_ROOT/../gradlew}
if [[ "$BUILDTYPE" == debug ]]
then
    echo "=== Using precompiled scrcpy-server (debug mode, arm64 compatible) ==="
    cp "$PROJECT_ROOT/scrcpy-server-v3.3.4" "$OUTPUT"
    chmod +x "$OUTPUT"
else
    echo "=== Using precompiled scrcpy-server (release mode, arm64 compatible) ==="
    cp "$PROJECT_ROOT/scrcpy-server-v3.3.4" "$OUTPUT"
    chmod +x "$OUTPUT"
fi
# å…³é”®æ·»åŠ ï¼šæ˜ç¡®è¿”å›æˆåŠŸçŠ¶æ€ç ï¼Œè®©ninjaç»§ç»­æ‰§è¡Œåç»­ç¼–è¯‘
exit 0
```
- éšåå®‰è£…å³å¯ï¼š
```
# ç»§ç»­ç¼–è¯‘
sudo chmod +x server/scripts/*.sh
ninja -C build
sudo ninja -C build install
# éªŒè¯å®‰è£…æˆåŠŸ
scrcpy --version  # è¾“å‡º3.3.4å³æ­£å¸¸
```
<img width="570" height="412" alt="image" src="https://github.com/user-attachments/assets/8af35711-ba77-4879-bced-be8957ec29dc" />


# ä¸‰ã€é…ç½® arm64 ç‰ˆ ADBï¼ˆè§£å†³æ¶æ„ä¸å…¼å®¹é—®é¢˜ï¼‰
- ADB ç‰ˆæœ¬å¤ªæ—§ï¼pair å‘½ä»¤æ˜¯å®‰å“ 11 + æ–°å¢çš„ï¼ˆéœ€ ADB 30.0.0+ï¼‰
- æ™®é€š Linux çš„ ADB ä¸º x86_64 æ¶æ„ï¼Œéœ€å®‰è£… arm64 ä¸“å±ç‰ˆæœ¬ï¼š
```bash
# 1. å¸è½½æ—§ç‰ˆADBï¼ˆé¿å…è·¯å¾„å†²çªï¼‰
# å¸è½½ apt å®‰è£…çš„æ—§ç‰ˆ ADB
sudo apt remove android-tools-adb -y
# 2. ä¸‹è½½å®˜æ–¹æœ€æ–°ç‰ˆ platform-toolsï¼ˆåŒ…å« arm64 ç‰ˆ ADBï¼‰
wget https://github.com/AndroidIDEOfficial/platform-tools/releases/download/v34.0.4/platform-tools-34.0.4-aarch64.tar.xz -O ~/platform-tools.tar.xz
# 3. è§£å‹åˆ°ç”¨æˆ·ç›®å½•
tar -xvf platform-tools.tar.xz
# 4. éªŒè¯ ADB ç‰ˆæœ¬ï¼ˆéœ€æ˜¾ç¤º 30.0.0+ï¼Œæ”¯æŒ pair å‘½ä»¤ï¼‰
~/platform-tools/adb --version
# å®‰è£…åˆ°ç³»ç»Ÿbin
sudo cp ~/platform-tools/{adb,fastboot,etc1tool,dmtracedump,e2fsdroid,hprof-conv,sqlite3} /usr/local/bin/
```
<img width="558" height="422" alt="image" src="https://github.com/user-attachments/assets/7a3b4c30-33dc-428b-88fe-025c7a480e94" />

# å››ã€æ— çº¿è°ƒè¯•é…å¯¹ä¸ ADB è¿æ¥ï¼ˆæœ¬åœ°ç½‘ç»œï¼Œæ— éœ€ WiFiï¼‰
é€šè¿‡å®‰å“ â€œæ— çº¿è°ƒè¯•â€ åŠŸèƒ½å®ç°å­ç³»ç»Ÿä¸å®¿ä¸»æœºçš„æœ¬åœ°è¿æ¥ï¼Œé¿å… USB ä¾èµ–ï¼š
## å®‰å“è®¾å¤‡æ“ä½œï¼š
- å¼€å¯ã€Œå¼€å‘è€…é€‰é¡¹ã€ï¼ˆè®¾ç½®â†’å…³äºæ‰‹æœºâ†’è¿ç»­ç‚¹å‡»ç‰ˆæœ¬å·ï¼‰ï¼›
- å¼€å¯ã€Œæ— çº¿è°ƒè¯•ã€ï¼Œç‚¹å‡»ã€Œé…å¯¹è®¾å¤‡ï¼ˆä½¿ç”¨é…å¯¹ç ï¼‰ã€ï¼›
- è®°å½•å¼¹å‡ºçš„ã€Œé…å¯¹åœ°å€ï¼ˆå¦‚localhost:41955ï¼‰ã€å’Œã€Œ6 ä½é…å¯¹ç ã€ã€‚

## Linux å­ç³»ç»Ÿæ“ä½œï¼š
```bash
adb kill-server && adb start-server

# 1. é…å¯¹è®¾å¤‡ï¼ˆæ›¿æ¢ä¸ºå®é™…åœ°å€å’Œé…å¯¹ç ï¼‰
adb pair localhost:41955 675984

# 2. è¿æ¥è®¾å¤‡ï¼ˆé»˜è®¤ç«¯å£5555ï¼Œä»¥è®¾å¤‡æ˜¾ç¤ºä¸ºå‡†ï¼‰
adb connect localhost:41955

# éªŒè¯è¿æ¥ï¼ˆæ˜¾ç¤ºdeviceå³æ­£å¸¸ï¼‰
adb devices
```

# äº”ã€éŸ³é¢‘è½¬æ¥é…ç½®ï¼ˆæ ¸å¿ƒï¼šè™šæ‹Ÿè®¾å¤‡ + å¼ºåˆ¶ç»‘å®šï¼‰
é€šè¿‡ Pulseaudio åˆ›å»ºè™šæ‹ŸéŸ³é¢‘è®¾å¤‡ï¼Œå°† scrcpy è½¬å‘çš„éº¦å…‹é£éŸ³é¢‘è½¬ä¸ºå­ç³»ç»Ÿå¯è¯†åˆ«çš„è¾“å…¥æºï¼š
```bash
# 1. æ¸…ç†æ—§æ¨¡å—ï¼ˆé¿å…å†²çªï¼Œé¦–æ¬¡æ‰§è¡Œå¯å¿½ç•¥æŠ¥é”™ï¼‰
pactl unload-module module-remap-source 2>/dev/null
pactl unload-module module-null-sink 2>/dev/null

# 2. åˆ›å»ºè™šæ‹Ÿsinkï¼ˆæ¥æ”¶scrcpyçš„éŸ³é¢‘è¾“å‡ºï¼‰
pactl load-module module-null-sink sink_name=scrcpy_sink  # è¾“å‡ºæ¨¡å—IDï¼ˆå¦‚18ï¼‰

# 3. åˆ›å»ºè™šæ‹Ÿsourceï¼ˆä½œä¸ºå­ç³»ç»ŸéŸ³é¢‘è¾“å…¥ï¼Œå‘½åä¸ºscrcpy_micï¼‰
pactl load-module module-remap-source source_name=scrcpy_mic master=scrcpy_sink.monitor  # è¾“å‡ºæ¨¡å—IDï¼ˆå¦‚19ï¼‰

# 4. å¯åŠ¨scrcpyå¹¶å¼ºåˆ¶éŸ³é¢‘è¾“å‡ºåˆ°è™šæ‹Ÿè®¾å¤‡ï¼ˆå…³é”®ï¼šPULSE_SINKç»‘å®šï¼‰
PULSE_SINK=scrcpy_sink scrcpy \
  --audio-source=mic \
  --no-video \
  --audio-buffer=20 \
  --audio-codec=aac \
  --serial=localhost:41955
```

# å…­ã€CapsWriter-Offline é…ç½®ä¸éŸ³é¢‘è¾“å…¥è§£å†³
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/ChaserSu/CapsWriter-Offline-Android.git
cd CapsWriter-Offline-Android

# 2. å®‰è£…é¡¹ç›®ä¾èµ–
sudo apt install -y portaudio19-dev
pip install -r requirements.txt --break-system-packages -i https://mirror.sjtu.edu.cn/pypi/web/simple

# 3.å®‰è£…æ¨¡å‹
wget https://github.com/ChaserSu/CapsWriter-Offline-Android/releases/download/models/models.zip
unzip -o models.zip
```

## è¿˜æœ‰å…¶ä»–ä¸€äº›å°é—®é¢˜ï¼Œç¨åæˆ‘æ•´ç†å‡ºæ¥ ##
## å¯åŠ¨å®¢æˆ·ç«¯ï¼š
```bash
sudo -E python3 core_client.py #å¿…é¡»åŠ ä¸Š-Eå‚æ•°
```
## å¯åŠ¨æœåŠ¡ç«¯ï¼š
```bash
python3 core_server.py
```



<img width="1038" height="673" alt="image" src="https://github.com/user-attachments/assets/195d275b-a9dc-4f7d-89c7-375d223960ca" />

## - 

## æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…ä¸‡è±¡æ‹¼éŸ³äº†ï¼Œä½†æ˜¯Debianè‡ªå¸¦çš„rimeç‰ˆæœ¬å¤ªä½äº†ä¸æ”¯æŒluaï¼Œflatpakä¹Ÿä¸è¡Œï¼Œéœ€è¦è‡ªå·±ç¼–è¯‘ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘è¸©çš„å‘ ##
- å› ä¸ºæœ¬èº«ä¹Ÿæ˜¯è™šæ‹ŸåŒ–çš„ç³»ç»Ÿï¼Œæ‰€ä»¥flatpakä¼šæŠ¥é”™
- Debian 12å®˜æ–¹æ”¯æŒçš„librimeåªåˆ°1.8.0ï¼Œè¯¥ç‰ˆæœ¬ä¸æ”¯æŒä¸‡è±¡æ‹¼éŸ³lua
- æœ€æ–°ç‰ˆçš„1.15.0çš„librimeï¼Œåœ¨bash install-plugins.sh hchunhui/librime-luahåï¼Œmake merged-pluginsä¼šæŠ¥é”™
```
###é¦–å…ˆä¸‹è½½fcitx5###
# åœæ­¢æ­£åœ¨è¿è¡Œçš„ fcitx è¿›ç¨‹
killall fcitx fcitx-dbus-watcher
# å¸è½½ fcitx ä¸»ç¨‹åºåŠæ‰€æœ‰ç»„ä»¶ï¼ˆå«ä¾èµ–ï¼‰
sudo apt remove --purge fcitx fcitx-data fcitx-bin fcitx-libs fcitx-config-common fcitx-frontend-* fcitx-modules libfcitx-*
# åˆ é™¤ç”¨æˆ·ç›®å½•ä¸‹çš„æ—§é…ç½®ï¼ˆå¯é€‰ï¼Œé¿å…å¹²æ‰°ï¼‰
rm -rf ~/.config/fcitx ~/.cache/fcitx


# å®‰è£… fcitx5 æ ¸å¿ƒåŒ…ä¸ä¸­æ–‡æ”¯æŒ
sudo apt install fcitx5 fcitx5-rime fcitx5-config-qt fcitx5-configtool fcitx5-chinese-addons fcitx5-frontend-gtk3 fcitx5-frontend-qt5 # å®‰è£…Fcitx5+Rime
im-config -s fcitx5 && fcitx5 restart  # è®¾é»˜è®¤å¹¶é‡å¯
# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆLXQt éœ€å†™å…¥ ~/.xprofileï¼Œç¡®ä¿è‡ªå¯æ—¶åŠ è½½ï¼‰
echo -e "export GTK_IM_MODULE=fcitx\nexport QT_IM_MODULE=fcitx\nexport XMODIFIERS=@im=fcitx" >> ~/.xprofile
# é‡å¯ fcitx5 å¹¶è®¾ç½®è‡ªå¯
fcitx5 -r &
# æ‰“å¼€é…ç½®å·¥å…·æ·»åŠ ä¸­æ–‡è¾“å…¥æ³•ï¼ˆå¦‚æ‹¼éŸ³ã€åŒæ‹¼ï¼‰
fcitx5-configtool
# æ¥ä¸‹æ¥æ£€æŸ¥é»˜è®¤ç‰ˆæœ¬çš„æ˜æœˆæ‹¼éŸ³æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœå¯ç”¨ï¼Œè¿›è¡Œæ¥ä¸‹æ¥çš„æ­¥éª¤
# è®°å¾—æŠŠé™¤äº†ä¸­å·*ä»¥å¤–çš„è¾“å…¥æ³•ç§»é™¤
```
<img width="732" height="562" alt="image" src="https://github.com/user-attachments/assets/d5ba2d77-b5e1-4fc4-84b3-b95c3262afa0" />

```

###æ¥ä¸‹æ¥è¿˜éœ€è¦ç¼–è¯‘librime###
sudo apt update
# å®‰è£…lua
sudo apt install -y lua5.4 liblua5.4-dev pkg-config
# å®‰è£…cmakeå’Œgcc
sudo apt install build-essential cmake
# å®‰è£…å…¶ä»–ç¼–è¯‘ä¾èµ–
sudo apt install libboost-all-dev libgoogle-glog-dev  libgtest-dev libyaml-cpp-dev libleveldb-dev libmarisa-dev  libz-dev libopencc-dev  libibus-1.0-dev libnotify-dev
# è¦æ±‚cmakeå¤§äº3.25å¦åˆ™è¦ç¼–è¯‘cmake
cmake --version
# æµ…å…‹éš† 1.14.0 ç‰ˆæœ¬ï¼ˆ--branch æ”¯æŒ tag åç§°ï¼‰
git clone --branch 1.14.0 --depth=1 https://github.com/rime/librime.git librime-1.14.0
cd librime-1.14.0
# è‡ªåŠ¨ä¸‹è½½librimeæ’ä»¶
bash install-plugins.sh hchunhui/librime-lua
# ä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹è¿›è¡Œç¼–è¯‘ï¼ˆéƒ¨åˆ†æ‰‹æœºå†…å­˜æ¯”è¾ƒå°ï¼‰
make merged-plugins -j2
# å®‰è£…
sudo make install
```
<img width="613" height="520" alt="image" src="https://github.com/user-attachments/assets/94211adb-5098-4976-8e87-f47bada5cd9f" />

```
###æ¥ä¸‹æ¥éœ€è¦å®‰è£…ä¸‡è±¡æ‹¼éŸ³ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£…###
#æ¨èè¯¥æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸æ”¯æŒæˆ–æ–‡ä»¶ä¸å…¨
cd .local/share/fcitx5/rime
pip install tqdm --break-system-package
wget https://github.com/rimeinn/rime-wanxiang-update-tools/releases/latest/download/rime-wanxiang-update-win-mac-ios-android.py
python rime-wanxiang-update-win-mac-ios-android.py -s
```
<img width="608" height="515" alt="image" src="https://github.com/user-attachments/assets/f195bf83-be38-44ec-85ff-f3805c116b3c" />


```
##æ¥ä¸‹æ¥å®‰è£…å†™å°è¯´çš„è½¯ä»¶##
# æœ€æ–°ç‰ˆéœ€è¦å…ˆç¼–è¯‘qt6-svg-pluginï¼Œæˆ‘æ²¡æœ‰æˆåŠŸï¼Œé€€è€Œæ±‚å…¶æ¬¡ç”¨æ—§ç‰ˆ
# 1. ä¸‹è½½ novelWriter 2.7.5 deb åŒ…
wget https://github.com/vkbo/novelWriter/releases/download/v2.7.5/novelwriter_2.7.5_all.deb
# 2. å®‰è£…å¹¶è‡ªåŠ¨ä¿®å¤ä¾èµ–ï¼ˆç³»ç»Ÿæºå¯æä¾› PyQt5ï¼‰
sudo dpkg -i novelwriter_2.7.5_all.deb
sudo apt -f install -y

# 3. å¯åŠ¨ novelWriter
novelwriter
```
# æ¥ä¸‹æ¥å°±å®‰è£…å¥½äº†ï¼Œä½ å¯ä»¥æ­£å¸¸ä½¿ç”¨paraformeræ¨¡å‹å’Œrimeä¸‡è±¡æ‹¼éŸ³å†™å°è¯´äº†
<img width="1328" height="842" alt="image" src="https://github.com/user-attachments/assets/6435c3ca-4a65-4140-a6ee-7ddd098e354a" />

## è™½ç„¶ä½†æ˜¯ï¼Œè¿˜æ˜¯å»ºè®®ç›´æ¥ç”¨è±†åŒ…è¾“å…¥æ³•ï¼Œè¿™ä¸ªæ–¹æ¡ˆå¤ªéº»çƒ¦è€Œä¸”æ•ˆæœä¹Ÿä¸å¦‚è±†åŒ…

## é…ç½®å¥½äº†ä¹‹åï¼Œæ¯æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨è¿æ¥adbï¼Œæ— éœ€é‡æ–°æŒ‡å®šç«¯å£ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„å¯åŠ¨è„šæœ¬
```bash
#!/bin/bash

# ==================== æ ¸å¿ƒé…ç½®ï¼šè®°å½•å­è¿›ç¨‹PID ====================
# å®šä¹‰æ•°ç»„å­˜å‚¨æ‰€æœ‰å­è¿›ç¨‹PID
declare -a PIDS=()

# å®šä¹‰é€€å‡ºé™·é˜±ï¼šç»ˆç«¯å…³é—­æ—¶æ€æ­»æ‰€æœ‰å­è¿›ç¨‹
trap 'echo -e "\n[INFO] ç»ˆç«¯å…³é—­ï¼Œæ­£åœ¨ç»ˆæ­¢æ‰€æœ‰ç¨‹åº..."; for pid in "${PIDS[@]}"; do kill -9 $pid >/dev/null 2>&1; done; echo "[INFO] æ‰€æœ‰ç¨‹åºå·²ç»ˆæ­¢"' EXIT

# ==================== å¯åŠ¨ç¨‹åºå¹¶è®°å½•PID ====================
# ç­‰å¾…æ¡Œé¢ç¯å¢ƒåŠ è½½
sleep 5

# 1. å¯åŠ¨fcitx5å¹¶è®°å½•PID
fcitx5 &
PIDS+=($!)  # $! è¡¨ç¤ºä¸Šä¸€ä¸ªåå°è¿›ç¨‹çš„PID

# 2. å¯åŠ¨scrcpyå¹¶è®°å½•PID
PULSE_SINK=scrcpy_sink scrcpy --audio-source=mic --no-video --audio-buffer=20 &
PIDS+=($!)

# 3. å¯åŠ¨novelwriterå¹¶è®°å½•PID
novelwriter &
PIDS+=($!)

# 4. å¯åŠ¨core_serverï¼ˆé™é»˜ï¼‰å¹¶è®°å½•PID
python3 /home/tiny/CapsWriter-Offline-Android/core_server.py >/dev/null 2>&1 &
PIDS+=($!)

# 5. å‰å°å¯åŠ¨core_clientï¼ˆæ ¸å¿ƒè¿›ç¨‹ï¼Œç»ˆç«¯å…³é—­æ—¶æ­¤è¿›ç¨‹å…ˆé€€å‡ºï¼Œè§¦å‘trapï¼‰
sudo -E python3 /home/tiny/CapsWriter-Offline-Android/core_client.py
```


- 
## ä»¥ä¸‹æ˜¯å®˜æ–¹åŸæœ¬çš„æ–‡æ¡£
## CapsWriter-Offline
https://github.com/HaujetZhao/CapsWriter-Offline

























